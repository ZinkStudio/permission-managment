<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="index.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		<h:outputText value="permission-management : profiles" />
	</ui:define>
	<ui:define name="headerTitle">
		<h:outputText id="layoutTitle" value="Listing Profiles :" />
	</ui:define>
	<ui:define name="content">
<!-- 		<p:link value="Back Home" outcome="index.xhtml"></p:link> -->

		<div style="width: 100%; height: 50px;">
			<p:commandButton style="float:right;" value="Create A New Profile"
				icon="ui-icon-star" title="Create a new Profile"
				action="profileCreate.xhtml" />
		</div>
	
	<h:form id="ProfileForm" style="margin-top:20px;"/>
	<p:messages id="messages" />


<!-- 	<p:outputLabel value="Listing Profiles :" /> -->
	<p:dataTable var="profile" value="#{dtProfileView.profiles}"
		rows="10" paginator="true"
		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
		rowsPerPageTemplate="5,10,15">
		<p:column headerText="Id">
        <h:outputText value="#{profile.id}" />
    </p:column>
 
    <p:column headerText="Name">
        <h:outputText value="#{profile.name}" />
    </p:column>
 
    <p:column headerText="Description">
        <h:outputText value="#{profile.description}" />
    </p:column>

			<p:column headerText="See permissions" width="100">
				<p:commandButton id="buttonAllPermissions"
					action="profilePermissions.xhtml" icon=" fa fa-eye"
					title="See all the permissions for this profile ?"
					style="display:block;margin:0 auto;" >
					<c:setPropertyActionListener value="#{profile}" target="#{dtProfileView.profile}" />
					</p:commandButton>
			</p:column>
			
			<p:column headerText="See users" width="100">
				<p:commandButton id="buttonAllUsers"
					action="profileUsers.xhtml" icon=" fa fa-eye"
					title="See all the users for this profile ?"
					style="display:block;margin:0 auto;" >
					<c:setPropertyActionListener value="#{profile}" target="#{dtProfileView.profile}" />
					</p:commandButton>
			</p:column>
			
			<p:column headerText="Update" width="60">
				<p:commandButton id="buttonUpdate" action="profileUpdate"
					icon="fa fa-edit" title="Update Profile ?"
					style="display:block;margin:0 auto;" >
					<c:setPropertyActionListener value="#{profile}" target="#{profileUpdateView.profile}" />
					
					</p:commandButton>
			</p:column>
			
			<p:column headerText="Delete" width="60">
				<p:commandButton id="buttonDelete" update="@all" 
				actionListener="#{profileDeleteView.delete(profile.id)}"
					icon=" fa fa-remove" title="Delete Profile ?"
					 style="display:block;margin:0 auto;">
					</p:commandButton>
			</p:column>
			
		
			
		</p:dataTable>
		


	</ui:define>
</ui:composition>