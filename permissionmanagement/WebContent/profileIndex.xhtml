<ui:composition template="index.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		<h:outputText value="#{msg['label.title2']}" />
	</ui:define>
	<ui:define name="headerTitle">
		<h:outputText id="layoutTitle" value="#{msg['label.layout2']}" />
	</ui:define>
	<ui:define name="content">
		<c:loadBundle var="msg" basename="messages" />
		<div style="width: 100%; height: 50px;">
			<p:commandButton style="float:right;" value="#{msg['btn.create2']}"
				icon="ui-icon-star" title="#{msg['lbl.btn.create2']}"
				action="profileCreate.xhtml" />
		</div>
		<h:form id="ProfileForm" style="margin-top:20px;" />
		<p:messages id="messages" />
		<p:dataTable var="profile" value="#{profileView.profiles}" rows="10"
			paginator="true"
			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			rowsPerPageTemplate="5,10,15">
			<p:column headerText="Id">
				<h:outputText value="#{profile.id}" />
			</p:column>

			<p:column headerText="#{msg['label.name']}">
				<h:outputText value="#{profile.name}" />
			</p:column>

			<p:column headerText="#{msg['label.description']}">
				<h:outputText value="#{profile.description}" />
			</p:column>

			<p:column headerText="#{msg['btn.seePermissions']}" width="100">
				<p:commandButton id="buttonAllPermissions"
					action="profilePermissions.xhtml" icon=" fa fa-eye"
					title="#{msg['lbl.btn.seePermissions']}"
					style="display:block;margin:0 auto;">
					<c:setPropertyActionListener value="#{profile}"
						target="#{profileView.profile}" />
				</p:commandButton>
			</p:column>

			<p:column headerText="#{msg['btn.seeUsers']}" width="100">
				<p:commandButton id="buttonAllUsers" action="profileUsers.xhtml"
					icon=" fa fa-eye" title="#{msg['lbl.btn.seeUsers']}"
					style="display:block;margin:0 auto;">
					<c:setPropertyActionListener value="#{profile}"
						target="#{profileView.profile}" />
				</p:commandButton>
			</p:column>

			<p:column headerText="#{msg['btn.update']}" width="70">
				<p:commandButton id="buttonUpdate" action="profileUpdate"
					icon="fa fa-edit" title="Update Profile ?"
					styleClass="commandButton">
					<c:setPropertyActionListener value="#{profile}"
						target="#{profileView.profile}" />
				</p:commandButton>
			</p:column>

			<p:column headerText="#{msg['btn.delete']}" width="80">
				<p:commandButton id="buttonDelete" update="@all"
					action="#{profileView.delete}"
					icon=" fa fa-remove" title="#{msg['lbl.btn.delete']}"
					styleClass="commandButton">
					<c:setPropertyActionListener value="#{profile}" target="#{profileView.profile}" />
					<p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
				</p:commandButton>							
				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			        <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		    	</p:confirmDialog>
			</p:column>
		</p:dataTable>
	</ui:define>
</ui:composition>